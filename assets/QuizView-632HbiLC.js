import{d as m,c as l,o as s,n as C,t as y,r as f,b as I,a as u,e as i,f as b,u as h,g as L,F as B,h as M,w as P,i as _,j as H,v as k,k as O,l as x,m as w}from"./index-ClmiFEiF.js";var n=(e=>(e.MULTIPLE_CHOICE="m",e.WRITING="w",e))(n||{});function T(e){if(e.length===0)throw new Error("Cannot sample from an empty array");const t=Math.floor(Math.random()*e.length);return e[t]}var g=(e=>(e.IMAGE="img",e.VIDEO="mov",e.AUDIO="audio",e))(g||{});const W=[{t:n.MULTIPLE_CHOICE,obj:{q:{title:"Was ist SpongeBobs Lieblingsessen?",media:{type:g.IMAGE,path:"https://picsum.photos/300/400"}},sug:["Krabbenburger","Pizza","Eis","Köderburger"],cor:0}},{t:n.MULTIPLE_CHOICE,obj:{q:{title:"Wer ist SpongeBobs bester Freund?",media:{type:g.VIDEO,path:"https://getsamplefiles.com/download/mp4/sample-1.mp4"}},sug:["Patrick Star","Thaddäus","Mr. Krabs","Plankton"],cor:0}},{t:n.MULTIPLE_CHOICE,obj:{q:{title:"Wo arbeitet SpongeBob?",media:{type:g.AUDIO,path:"https://de.getsamplefiles.com/download/mp3/sample-1.mp3"}},sug:["Köderbude","Krosse Krabbe","Goofy Goober","Bikini Bottom Bank"],cor:1}},{t:n.MULTIPLE_CHOICE,obj:{q:{title:"Wie heißt SpongeBobs Haustier-Schnecke?"},sug:["Gary","Schnecki","Quitschie","Blubber"],cor:0}},{t:n.MULTIPLE_CHOICE,obj:{q:{title:"Welches Instrument spielt Thaddäus?"},sug:["Gitarre","Klarinette","Schlagzeug","Klavier"],cor:1}},{t:n.MULTIPLE_CHOICE,obj:{q:{title:"Worauf ist Mr. Krabs besessen?"},sug:["Geld","Freunde","Quallenfischen","Kochen"],cor:0}},{t:n.MULTIPLE_CHOICE,obj:{q:{title:"Welche Farbe hat SpongeBob?"},sug:["Gelb","Blau","Pink","Grün"],cor:0}},{t:n.MULTIPLE_CHOICE,obj:{q:{title:"Was ist Planktons Ziel?"},sug:["Das Geheimrezept der Krabbenburger stehlen","Die Krosse Krabbe kaufen","Bürgermeister werden","Karate lernen"],cor:0}},{t:n.MULTIPLE_CHOICE,obj:{q:{title:"Welcher Charakter wohnt in einer Ananas unter dem Meer?"},sug:["SpongeBob","Patrick","Thaddäus","Sandy"],cor:0}},{t:n.MULTIPLE_CHOICE,obj:{q:{title:"Was für ein Tier ist Sandy Cheeks?"},sug:["Eichhörnchen","Oktopus","Seestern","Seepferdchen"],cor:0}}],j=[{t:n.WRITING,obj:{q:{title:"Wie viele Löcher hat Spongebob"},answ:"3"}}],U=1e3;var z=[{t:n.MULTIPLE_CHOICE,obj:{q:{title:"Hello this is a test?"},sug:["Hellokitty",'nulla consectetur ad quasi quidem sapiente magnam aperiam, nostrum distinctio velit, reprehenderit qui dolore alias illo saepe in beatae voluptates eum eaque aut dignissimos, repudiandae corrupti tempore? Officiis, eos placeat, tempore, natus consectetur corporis numquam nam quibusdam est facilis omnis voluptatem!"',"Ozelot","Dubidum"],cor:1}},...W,...j];const E={"/questions":T(z),"/mock/user":{id:1,name:"Mock Tester"}};async function D(e,t){if(E[e])return new Promise(o=>{setTimeout(()=>{o(E[e])},U)});const a=await fetch(e,t);if(!a.ok)throw new Error(`Fetch error from: ${e}`);return await a.json()}const G=m({__name:"QuizElement",props:{id:{},msg:{},clickHandler:{},buttonClass:{}},setup(e){const t=e;return(a,o)=>(s(),l("button",{onClick:o[0]||(o[0]=()=>e.clickHandler(t.id)),class:C(["hover:bg-amber-500 bg-amber-100 p-5 rounded-2xl lg:max-h-[10vh]",t.buttonClass])},y(t.msg),3))}}),K=["src","alt","loading"],A=m({__name:"Image",props:{src:{},alt:{default:""},rounded:{type:Boolean,default:!0},cover:{type:Boolean,default:!0},lazy:{type:Boolean,default:!0},wrapperClass:{default:""}},setup(e){return(t,a)=>(s(),l("img",{src:e.src,alt:e.alt,loading:e.lazy?"lazy":"eager",class:C(`max-w-full ${e.wrapperClass} mx-auto rounded-lg aspect-video`)},null,10,K))}}),V={class:"relative overflow-hidden rounded-2xl bg-black shadow-lg"},F={class:"w-full aspect-video"},Q=["src","poster","muted","playsinline","controls","autoplay","loop"],N={key:0,class:"pointer-events-none absolute inset-0 flex items-center justify-center"},R=m({__name:"Video",props:{src:{},poster:{default:""},muted:{type:Boolean,default:!1},playsinline:{type:Boolean,default:!0},controls:{type:Boolean,default:!0},autoplay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},wrapperClass:{default:""}},setup(e){const t=f(null),a=I(()=>{const o=t.value;return o&&!o.paused&&!o.ended&&o.readyState>2});return(o,d)=>(s(),l("div",{class:C(`${e.wrapperClass}`)},[u("div",V,[u("div",F,[u("video",{ref_key:"video",ref:t,src:e.src,poster:e.poster||void 0,muted:e.muted,playsinline:e.playsinline,controls:e.controls,autoplay:e.autoplay,loop:e.loop,class:"w-full h-full object-cover",preload:"metadata"}," Sorry, your browser doesn't support embedded videos. ",8,Q)]),a.value?(s(),l("div",N,[...d[0]||(d[0]=[u("svg",{class:"w-16 h-16 opacity-0 sm:opacity-30",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":""},[u("path",{d:"M5 3v18l15-9L5 3z"})],-1)])])):i("",!0)])],2))}}),Y={class:"flex-1 mt-auto m-2 p-2"},Z=["autoplay","src","preload","controls"],J=m({__name:"Audio",props:{src:{},preload:{default:"metadata"},controls:{type:Boolean,default:!0},wrapperClass:{default:""},autoplay:{type:Boolean,default:!1}},setup(e){const t=f(null);return I(()=>{const a=t.value;return a&&!a.paused&&!a.ended&&a.readyState>2}),(a,o)=>(s(),l("div",{class:C(`w-full ${e.wrapperClass}`)},[u("div",Y,[u("audio",{autoplay:e.autoplay,src:e.src,preload:e.preload,controls:e.controls,class:"w-full"},null,8,Z)])],2))}}),X={class:"grid place-items-center lg:w-screen min-h-[50vh] bg-blue-100 shadow font-bold rounded-2xl text-center mb-5"},ee={key:3,class:"text-[clamp(0.5rem,2vw,1.2rem)]"},q=m({__name:"QuizQuestion",props:{q:{}},setup(e){return(t,a)=>(s(),l("div",X,[e.q.media&&e.q.media?.type===h(g).IMAGE?(s(),b(A,{key:0,"wrapper-class":"max-h-50 h-50",src:e.q.media.path},null,8,["src"])):i("",!0),e.q.media&&e.q.media?.type===h(g).VIDEO?(s(),b(R,{key:1,"wrapper-class":"max-w-[30vw]",autoplay:!0,src:e.q.media.path},null,8,["src"])):i("",!0),e.q.media&&e.q.media?.type===h(g).AUDIO?(s(),b(J,{key:2,autoplay:!0,src:e.q.media.path},null,8,["src"])):i("",!0),e.q.title?(s(),l("div",ee,y(e.q.title),1)):i("",!0)]))}}),$="bg-green-400",S="bg-red-400",te={class:"flex flex-col"},ae={class:"grid lg:grid-cols-2 max-md:grid-cols-1 lg:gap-2 max-md:gap-10 text-center"},oe=m({__name:"MultipleChoiceQuiz",props:{sug:{},cor:{},isCorrectHandler:{type:Function}},setup(e){const t=e,a=f(null),o=I(()=>{const c=t.cor;return t.sug.map((v,r)=>a.value===null?"":r===c?$:r===a.value?S:"")});function d(c){a.value=c,t.isCorrectHandler(a.value===t.cor)}return(c,v)=>(s(),l("div",te,[L(c.$slots,"default"),u("div",ae,[(s(!0),l(B,null,M(e.sug,(r,p)=>(s(),b(G,{key:p,id:p,msg:r,clickHandler:d,buttonClass:o.value[p]},null,8,["id","msg","buttonClass"]))),128))])]))}}),se={class:"flex flex-col"},re={class:"flex flex-col items-center"},le={class:""},ne={key:1,class:"flex flex-1"},ue=m({__name:"WritingQuiz",props:{cor:{},autoWrite:{type:Boolean},isCorrectHandler:{type:Function}},setup(e){const t=e,a=f(""),o=f(!1);function d(){o.value=a.value===t.cor,o&&(console.log("CORRECT"),t.isCorrectHandler(o.value))}function c(){d()}return P(a,v=>{t.autoWrite&&d()}),(v,r)=>(s(),l("div",se,[L(v.$slots,"default"),u("div",re,[u("p",le,[H(" Your Answer is: "+y(a.value===""?"empty":a.value)+" thus: ",1),u("span",{class:C(o.value?h($):h(S))},y(o.value?"right":"wrong"),3)]),e.autoWrite?_((s(),l("input",{key:0,onChange:c,"onUpdate:modelValue":r[0]||(r[0]=p=>a.value=p),placeholder:"write until you are correct"},null,544)),[[k,a.value,void 0,{trim:!0}]]):i("",!0),e.autoWrite?i("",!0):(s(),l("div",ne,[_(u("input",{"onUpdate:modelValue":r[1]||(r[1]=p=>a.value=p),placeholder:"write and pressButton"},null,512),[[k,a.value,void 0,{trim:!0}]]),e.autoWrite?i("",!0):(s(),l("button",{key:0,class:"cursor-pointer bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",type:"button",onClick:c}," PressMe "))]))])]))}}),ie={key:0,class:"text-center"},ce={key:1,class:"text-red-500 text-center"},de=m({__name:"Quiz",setup(e){const t=f(null),a=f(!0),o=f(null);async function d(){a.value=!0,o.value=null;try{const r=await D("/questions");t.value=r,console.log("Fetched question:",r)}catch(r){console.error(r),o.value=r.message}finally{a.value=!1}}O(d);function c(r){console.log(`Choice: Player  ${r?"wins":"loose"}`)}function v(r){console.log(`Writing: Player  ${r?"wins":"loose"}`)}return(r,p)=>(s(),l(B,null,[a.value?(s(),l("div",ie,"Loading...")):o.value?(s(),l("div",ce,y(o.value),1)):i("",!0),t.value&&h(n).WRITING===t.value.t?(s(),b(ue,{key:2,"auto-write":!0,cor:t.value.obj.answ,"is-correct-handler":v},{default:x(()=>[w(q,{q:t.value.obj.q},null,8,["q"])]),_:1},8,["cor"])):i("",!0),t.value&&h(n).MULTIPLE_CHOICE===t.value.t?(s(),b(oe,{key:3,"is-correct-handler":c,sug:t.value.obj.sug,cor:t.value.obj.cor},{default:x(()=>[w(q,{q:t.value.obj.q},null,8,["q"])]),_:1},8,["sug","cor"])):i("",!0)],64))}}),me={class:"flex flex-col items-center lg:m-auto p-5"},fe=m({__name:"QuizView",setup(e){return(t,a)=>(s(),l("div",me,[w(de)]))}});export{fe as default};
